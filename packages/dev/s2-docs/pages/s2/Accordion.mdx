import {Layout} from '../../src/Layout';
export default Layout;

import {Accordion, Disclosure, DisclosureTitle, DisclosurePanel, DisclosureHeader, ActionButton, TextField} from '@react-spectrum/s2';
import docs from 'docs:@react-spectrum/s2';

# Accordion

<PageDescription>{docs.exports.Accordion.description}</PageDescription>

```tsx render docs={docs.exports.Accordion} links={docs.links} props={['size', 'density', 'isQuiet', 'isDisabled']} expanded type="s2"
"use client";
import {Accordion, Disclosure, DisclosureTitle, DisclosurePanel} from '@react-spectrum/s2';

<Accordion/* PROPS */>
  <Disclosure id="personal">
    <DisclosureTitle>Personal Information</DisclosureTitle>
    <DisclosurePanel>Personal information form here.</DisclosurePanel>
  </Disclosure>
  <Disclosure id="billing">
    <DisclosureTitle>Billing Address</DisclosureTitle>
    <DisclosurePanel>Billing address form here.</DisclosurePanel>
  </Disclosure>
</Accordion>
```

## Content

Accordion accepts multiple [Disclosure](Disclosure.html) elements as children. Each disclosure should have an `id` prop which is passed to the `onExpandedChange` handler to identify the expanded disclosure within the accordion.

```tsx render hideImports
"use client";
import {Accordion, Disclosure, DisclosureTitle, DisclosurePanel, TextField} from '@react-spectrum/s2';

<Accordion defaultExpandedKeys={['account']}>
  <Disclosure id="account">
    <DisclosureTitle>Account Settings</DisclosureTitle>
    <DisclosurePanel>
      <TextField label="Username" />
    </DisclosurePanel>
  </Disclosure>
  <Disclosure id="security">
    <DisclosureTitle>Security</DisclosureTitle>
    <DisclosurePanel>
      Configure your security preferences here.
    </DisclosurePanel>
  </Disclosure>
  <Disclosure id="notifications">
    <DisclosureTitle>Notifications</DisclosureTitle>
    <DisclosurePanel>
      Manage your notification settings.
    </DisclosurePanel>
  </Disclosure>
</Accordion>
```

## Expansion behavior

By default, only one disclosure can be expanded at a time. To allow multiple disclosures to be expanded simultaneously, use the `allowsMultipleExpanded` prop.

```tsx render hideImports
"use client";
import {Accordion, Disclosure, DisclosureTitle, DisclosurePanel} from '@react-spectrum/s2';

<div style={{display: 'flex', gap: 32, flexWrap: 'wrap'}}>
  <div style={{width: 250}}>
    <h4>Single expansion (default)</h4>
    <Accordion defaultExpandedKeys={['item1']}>
      <Disclosure id="item1">
        <DisclosureTitle>Item 1</DisclosureTitle>
        <DisclosurePanel>Content for item 1</DisclosurePanel>
      </Disclosure>
      <Disclosure id="item2">
        <DisclosureTitle>Item 2</DisclosureTitle>
        <DisclosurePanel>Content for item 2</DisclosurePanel>
      </Disclosure>
    </Accordion>
  </div>
  
  <div style={{width: 250}}>
    <h4>Multiple expansion</h4>
    <Accordion allowsMultipleExpanded defaultExpandedKeys={['item1', 'item2']}>
      <Disclosure id="item1">
        <DisclosureTitle>Item 1</DisclosureTitle>
        <DisclosurePanel>Content for item 1</DisclosurePanel>
      </Disclosure>
      <Disclosure id="item2">
        <DisclosureTitle>Item 2</DisclosureTitle>
        <DisclosurePanel>Content for item 2</DisclosurePanel>
      </Disclosure>
    </Accordion>
  </div>
</div>
```

## Controlled state

Accordion can be controlled using the `expandedKeys` prop along with `onExpandedChange` to manage which disclosures are expanded.

```tsx render hideImports
"use client";
import {Accordion, Disclosure, DisclosureTitle, DisclosurePanel} from '@react-spectrum/s2';
import {useState} from 'react';

function Example() {
  let [expandedKeys, setExpandedKeys] = useState(new Set(['settings']));

  return (
    <div style={{display: 'flex', flexDirection: 'column', gap: 16}}>
      <Accordion 
        expandedKeys={expandedKeys} 
        onExpandedChange={setExpandedKeys}>
        <Disclosure id="settings">
          <DisclosureTitle>Settings</DisclosureTitle>
          <DisclosurePanel>Application settings content</DisclosurePanel>
        </Disclosure>
        <Disclosure id="preferences">
          <DisclosureTitle>Preferences</DisclosureTitle>
          <DisclosurePanel>User preferences content</DisclosurePanel>
        </Disclosure>
        <Disclosure id="advanced">
          <DisclosureTitle>Advanced</DisclosureTitle>
          <DisclosurePanel>Advanced configuration options</DisclosurePanel>
        </Disclosure>
      </Accordion>
      
      <div>
        Expanded items: {expandedKeys.size > 0 ? Array.from(expandedKeys).join(', ') : 'none'}
      </div>
    </div>
  );
}
```

## Header customization

Use `DisclosureHeader` to add additional elements alongside disclosure titles, such as action buttons or status indicators.

```tsx render hideImports
"use client";
import {Accordion, Disclosure, DisclosureTitle, DisclosurePanel, DisclosureHeader, ActionButton} from '@react-spectrum/s2';
import AddIcon from '@react-spectrum/s2/s2wf-icons/S2_Icon_Add_20_N.svg';

<Accordion>
  <Disclosure id="files">
    <DisclosureHeader>
      <DisclosureTitle>Files</DisclosureTitle>
      <ActionButton>
        Add
      </ActionButton>
    </DisclosureHeader>
    <DisclosurePanel>
      File management content here.
    </DisclosurePanel>
  </Disclosure>
  <Disclosure id="projects">
    <DisclosureHeader>
      <DisclosureTitle>Projects</DisclosureTitle>
      <ActionButton>
        Edit
      </ActionButton>
    </DisclosureHeader>
    <DisclosurePanel>
      Project management content here.
    </DisclosurePanel>
  </Disclosure>
</Accordion>
```

## Events

Accordion accepts an `onExpandedChange` prop which is triggered when any disclosure is expanded or collapsed. The handler receives a Set of expanded keys.

```tsx render hideImports
"use client";
import {Accordion, Disclosure, DisclosureTitle, DisclosurePanel} from '@react-spectrum/s2';
import {useState} from 'react';

function Example() {
  let [lastAction, setLastAction] = useState('none');

  let handleExpandedChange = (keys) => {
    setLastAction(`Changed to: ${Array.from(keys).join(', ') || 'none'}`);
  };

  return (
    <div style={{display: 'flex', flexDirection: 'column', gap: 16}}>
      <Accordion onExpandedChange={handleExpandedChange}>
        <Disclosure id="section1">
          <DisclosureTitle>Section 1</DisclosureTitle>
          <DisclosurePanel>Content for section 1</DisclosurePanel>
        </Disclosure>
        <Disclosure id="section2">
          <DisclosureTitle>Section 2</DisclosureTitle>
          <DisclosurePanel>Content for section 2</DisclosurePanel>
        </Disclosure>
      </Accordion>
      
      <div>Last action: {lastAction}</div>
    </div>
  );
}
```

## Props

### Accordion

<PropTable component={docs.exports.Accordion} links={docs.links} />

### Disclosure

<PropTable component={docs.exports.Disclosure} links={docs.links} />

### DisclosureTitle

<PropTable component={docs.exports.DisclosureTitle} links={docs.links} />

### DisclosurePanel

<PropTable component={docs.exports.DisclosurePanel} links={docs.links} />

### DisclosureHeader

<PropTable component={docs.exports.DisclosureHeader} links={docs.links} />
