import {Layout} from '../../src/Layout';
export default Layout;

import {TimeField} from '@react-spectrum/s2';
import docs from 'docs:@react-spectrum/s2';

# TimeField

<PageDescription>{docs.exports.TimeField.description}</PageDescription>

<VisualExample
  component={TimeField}
  docs={docs.exports.TimeField}
  props={['size', 'labelPosition', 'labelAlign', 'necessityIndicator', 'isRequired', 'isDisabled', 'isReadOnly', 'isInvalid']}
  initialProps={{label: 'Event time'}}
  importSource="@react-spectrum/s2"
  type="s2" />

## Value

A TimeField displays a placeholder by default. An initial, uncontrolled value can be provided using the `defaultValue` prop. Alternatively, a controlled value can be provided using the `value` prop.

Time values are provided using objects from the [@internationalized/date](https://react-spectrum.adobe.com/internationalized/date/) package. This library handles correct international time manipulation across time zones and other localization concerns.

```tsx render
"use client";
import {TimeField} from '@react-spectrum/s2';
import {Time} from '@internationalized/date';
import {useState} from 'react';

function Example() {
  let [value, setValue] = useState(new Time(11, 45));

  return (
    <>
      <TimeField
        label="Event time"
        value={value}
        onChange={setValue} />
      <p>Selected time: {value.toString()}</p>
    </>
  );
}
```

## Segments

TimeField is composed of individual segments for time parts like hour, minute, and second. Users can navigate between segments with the Tab key and modify values using the arrow keys or by typing.

```tsx render
"use client";
import {TimeField} from '@react-spectrum/s2';

<TimeField label="Meeting time" />
```

## Granularity

The `granularity` prop allows you to control the smallest unit that is displayed by a TimeField. By default, times are displayed with `"minute"` granularity. More granular time values can be displayed by setting the `granularity` prop to `"second"`.

```tsx render hideImports
"use client";
import {TimeField} from '@react-spectrum/s2';
import {parseAbsoluteToLocal} from '@internationalized/date';

<div style={{display: 'flex', gap: 20, flexDirection: 'column'}}>
  <TimeField
    label="Meeting time (minutes)"
    granularity="minute" />
  <TimeField
    label="Event time (seconds)"
    granularity="second"
    defaultValue={parseAbsoluteToLocal('2024-04-07T18:45:22Z')} />
</div>
```

## Time zones

TimeField is time zone aware when a ZonedDateTime object is provided as the value. In this case, the time zone abbreviation is displayed, and time zone concerns such as daylight saving time are taken into account.

```tsx render hideImports
"use client";
import {TimeField} from '@react-spectrum/s2';
import {parseZonedDateTime} from '@internationalized/date';

<TimeField
  label="Event time"
  defaultValue={parseZonedDateTime('2024-11-07T10:45[America/Los_Angeles]')} />
```

## Hour cycle

By default, TimeField displays times in either 12 or 24 hour format depending on the user's locale. However, this can be overridden using the `hourCycle` prop if needed.

```tsx render hideImports
"use client";
import {TimeField} from '@react-spectrum/s2';

<div style={{display: 'flex', gap: 20, flexDirection: 'column'}}>
  <TimeField
    label="12-hour format"
    hourCycle={12} />
  <TimeField
    label="24-hour format"
    hourCycle={24} />
</div>
```

## Validation

TimeField supports validation through the `isRequired` prop, minimum and maximum values, and custom validation functions. It can be integrated with forms and displays error states appropriately.

```tsx render hideImports
"use client";
import {TimeField, Button, Form} from '@react-spectrum/s2';
import {Time} from '@internationalized/date';

<Form>
  <TimeField
    label="Meeting time"
    name="meetingTime"
    isRequired
    minValue={new Time(9)}
    maxValue={new Time(17)}
    description="Select a time between 9 AM and 5 PM." />
  <Button type="submit">Submit</Button>
</Form>
```

## Error state

TimeField can display validation errors using the `isInvalid` and `errorMessage` props.

```tsx render
"use client";
import {TimeField} from '@react-spectrum/s2';

<TimeField
  label="Event time"
  isInvalid
  errorMessage="Please enter a valid time." />
```

## Label positioning

The label can be positioned using the `labelPosition` prop.

```tsx render hideImports docs={docs.exports.TimeField} links={docs.links} props={['labelPosition', 'labelAlign']}
"use client";
import {TimeField} from '@react-spectrum/s2';

function Example(props) {
  return (
    <TimeField
      {...props}/* PROPS */
      label="Event time" />
  );
}
```

## Placeholder value

When no value is set, a placeholder is shown. The `placeholderValue` prop controls the default values of each segment when the user first interacts with them.

```tsx render hideImports
"use client";
import {TimeField} from '@react-spectrum/s2';
import {Time} from '@internationalized/date';

<TimeField
  label="Appointment time"
  placeholderValue={new Time(9)} />
```

## Events

TimeField accepts an `onChange` prop which is triggered whenever the time is edited by the user.

```tsx render hideImports
"use client";
import {TimeField} from '@react-spectrum/s2';
import {Time} from '@internationalized/date';
import {useDateFormatter} from '@react-aria/i18n';
import {useState} from 'react';

function Example() {
  let [time, setTime] = useState(new Time(14, 30));
  let formatter = useDateFormatter({timeStyle: 'short'});

  return (
    <>
      <TimeField
        label="Meeting time"
        value={time}
        onChange={setTime} />
      {/* <p>Selected time: {time ? formatter.format(time.toDate()) : '--'}</p> */}
    </>
  );
}
```

## International time formats

TimeField supports different time formats used around the world. Times are automatically displayed in the appropriate format for the user's locale.

```tsx render hideImports
"use client";
import {TimeField} from '@react-spectrum/s2';
import {useState} from 'react';

function Example() {
  let [time, setTime] = useState(null);
  
  return (
    <div style={{fontFamily: 'system-ui'}}>
      <TimeField
        label="زمان رویداد"
        value={time}
        onChange={setTime} />
      <p>Selected time: {time?.toString()}</p>
    </div>
  );
}
```

## Props

<PropTable component={docs.exports.TimeField} links={docs.links} />
