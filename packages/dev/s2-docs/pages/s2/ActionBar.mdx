import {Layout} from '../../src/Layout';
export default Layout;

import {ActionBar, ActionButton, TableView, TableHeader, TableBody, Column, Row, Cell} from '@react-spectrum/s2';
import docs from 'docs:@react-spectrum/s2';

# ActionBar

<PageDescription>{docs.exports.ActionBar.description}</PageDescription>

```tsx render docs={docs.exports.ActionBar} links={docs.links} props={['isEmphasized']} initialProps={{selectedItemCount: 3}} expanded type="s2"
"use client";
import {ActionBar, ActionButton, TableView, TableHeader, TableBody, Column, Row, Cell, Text} from '@react-spectrum/s2';
import Edit from '@react-spectrum/s2/icons/Edit';
import Copy from '@react-spectrum/s2/icons/Copy';
import Delete from '@react-spectrum/s2/icons/Delete';
import {useState} from 'react';
import {style} from '@react-spectrum/s2/style' with {type: 'macro'};


function Example() {
  let [selectedKeys, setSelectedKeys] = useState(new Set(['row2']));
  let rows = [
    {id: 'row1', name: 'Charizard', type: 'Fire, Flying', level: '67'},
    {id: 'row2', name: 'Blastoise', type: 'Water', level: '56'},
    {id: 'row3', name: 'Venusaur', type: 'Grass, Poison', level: '83'},
    {id: 'row4', name: 'Pikachu', type: 'Electric', level: '100'}
  ];

  return (
    <TableView 
      aria-label="Table with action bar"
      selectionMode="multiple"
      selectedKeys={selectedKeys}
      onSelectionChange={setSelectedKeys}
      styles={style({minWidth: 432})}
      renderActionBar={(selectedKeys) => (
        <ActionBar/* PROPS */>
          <ActionButton onPress={() => alert('Edit action')}>
            <Edit />
            <Text>Edit</Text>
          </ActionButton>
          <ActionButton onPress={() => alert('Copy action')}>
            <Copy />
            <Text>Copy</Text>
          </ActionButton>
          <ActionButton onPress={() => alert('Delete action')}>
            <Delete />
            <Text>Delete</Text>
          </ActionButton>
        </ActionBar>
      )}>
      <TableHeader>
        <Column key="name" isRowHeader>Name</Column>
        <Column key="type">Type</Column>
        <Column key="level">Level</Column>
      </TableHeader>
      <TableBody items={rows}>
        {item => (
          <Row>
            <Cell key="name">{item.name}</Cell>
            <Cell key="type">{item.type}</Cell>
            <Cell key="level">{item.level}</Cell>
          </Row>
        )}
      </TableBody>
    </TableView>
  );
}
```

## Content

An ActionBar is a companion component intended to facilitate bulk actions on selected items within a collection component. It consists of action buttons, a clear button, and a count of selected items. The ActionBar appears when items are selected and floats above the collection.

```tsx render expanded
"use client";
import {ActionBar, ActionButton, TableView, TableHeader, TableBody, Column, Row, Cell, Text} from '@react-spectrum/s2';
import Edit from '@react-spectrum/s2/icons/Edit';
import Copy from '@react-spectrum/s2/icons/Copy';
import Delete from '@react-spectrum/s2/icons/Delete';
import {style} from '@react-spectrum/s2/style' with {type: 'macro'};
import {useState} from 'react';
import {style} from '@react-spectrum/s2/style' with {type: 'macro'};

function Example() {
  let [selectedKeys, setSelectedKeys] = useState(new Set(['row2']));
  let rows = [
    {id: 'row1', name: 'Charizard', type: 'Fire, Flying', level: '67'},
    {id: 'row2', name: 'Blastoise', type: 'Water', level: '56'},
    {id: 'row3', name: 'Venusaur', type: 'Grass, Poison', level: '83'},
    {id: 'row4', name: 'Pikachu', type: 'Electric', level: '100'}
  ];

  return (
    <TableView 
      aria-label="Table with action bar"
      selectionMode="multiple"
      selectedKeys={selectedKeys}
      onSelectionChange={setSelectedKeys}
      styles={style({minWidth: 432})}
      renderActionBar={(selectedKeys) => (
        <ActionBar
          selectedItemCount={selectedKeys === 'all' ? 'all' : selectedKeys.size}
          onClearSelection={() => setSelectedKeys(new Set())}>
          <ActionButton onPress={() => alert('Edit action')}>
            <Edit />
            <Text>Edit</Text>
          </ActionButton>
          <ActionButton onPress={() => alert('Copy action')}>
            <Copy />
            <Text>Copy</Text>
          </ActionButton>
          <ActionButton onPress={() => alert('Delete action')}>
            <Delete />
            <Text>Delete</Text>
          </ActionButton>
        </ActionBar>
      )}>
      <TableHeader>
        <Column key="name" isRowHeader>Name</Column>
        <Column key="type">Type</Column>
        <Column key="level">Level</Column>
      </TableHeader>
      <TableBody items={rows}>
        {item => (
          <Row>
            <Cell key="name">{item.name}</Cell>
            <Cell key="type">{item.type}</Cell>
            <Cell key="level">{item.level}</Cell>
          </Row>
        )}
      </TableBody>
    </TableView>
  );
}
```

### Action buttons

ActionBar accepts ActionButton components as children. Each button should represent an action that can be performed on the selected items.

```tsx render hideImports
"use client";
import {ActionBar, ActionButton, Text} from '@react-spectrum/s2';
import Edit from '@react-spectrum/s2/icons/Edit';
import Copy from '@react-spectrum/s2/icons/Copy';
import Delete from '@react-spectrum/s2/icons/Delete';

<ActionBar selectedItemCount={5} onClearSelection={() => {}}>
  <ActionButton onPress={() => alert('Edit')}>
    <Edit />
    <Text>Edit</Text>
  </ActionButton>
  <ActionButton onPress={() => alert('Copy')}>
    <Copy />
    <Text>Copy</Text>
  </ActionButton>
  <ActionButton onPress={() => alert('Delete')}>
    <Delete />
    <Text>Delete</Text>
  </ActionButton>
</ActionBar>
```

## Integration with collections

ActionBar integrates with collection components through the `renderActionBar` prop. The collection component manages the selected state and provides it to the ActionBar.

```tsx render hideImports
"use client";
import {ActionBar, ActionButton, TableView, TableHeader, TableBody, Column, Row, Cell} from '@react-spectrum/s2';
import {useState} from 'react';
import {style} from '@react-spectrum/s2/style' with {type: 'macro'};

function Example() {
  let [selectedKeys, setSelectedKeys] = useState(new Set());
  let rows = [
    {id: 'row1', name: 'Adobe Photoshop', category: 'Design'},
    {id: 'row2', name: 'Adobe Illustrator', category: 'Design'},
    {id: 'row3', name: 'Adobe XD', category: 'Prototyping'},
    {id: 'row4', name: 'Adobe After Effects', category: 'Video'}
  ];

  return (
    <TableView 
      aria-label="Software list"
      selectionMode="multiple"
      selectedKeys={selectedKeys}
      onSelectionChange={setSelectedKeys}
      styles={style({minWidth: 432})}
      renderActionBar={(selectedKeys) => (
        <ActionBar
          selectedItemCount={selectedKeys === 'all' ? 'all' : selectedKeys.size}
          onClearSelection={() => setSelectedKeys(new Set())}>
          <ActionButton>Edit</ActionButton>
          <ActionButton>Share</ActionButton>
          <ActionButton>Delete</ActionButton>
        </ActionBar>
      )}>
      <TableHeader>
        <Column key="id" isRowHeader>ID</Column>
        <Column key="name">Name</Column>
        <Column key="category">Category</Column>
      </TableHeader>
      <TableBody items={rows}>
        {item => (
          <Row>
            <Cell key="id">{item.id}</Cell>
            <Cell key="name" isRowHeader>{item.name}</Cell>
            <Cell>{item.category}</Cell>
          </Row>
        )}
      </TableBody>
    </TableView>
  );
}
```

## Events

Use the `onClearSelection` prop as a callback to handle when the clear button in the ActionBar is pressed. Individual ActionButtons should have their own `onPress` handlers to perform actions on the selected items.

```tsx render hideImports
"use client";
import {ActionBar, ActionButton, TableView, TableHeader, TableBody, Column, Row, Cell} from '@react-spectrum/s2';
import {useState} from 'react';
import {style} from '@react-spectrum/s2/style' with {type: 'macro'};

function Example() {
  let [selectedKeys, setSelectedKeys] = useState(new Set(['row1']));
  let rows = [
    {id: 'row1', name: 'Document 1', status: 'Draft'},
    {id: 'row2', name: 'Document 2', status: 'Published'},
    {id: 'row3', name: 'Document 3', status: 'Archived'}
  ];

  return (
    <TableView 
      aria-label="Documents"
      selectionMode="multiple"
      selectedKeys={selectedKeys}
      onSelectionChange={setSelectedKeys}
      renderActionBar={(selectedKeys) => (
        <ActionBar
          selectedItemCount={selectedKeys === 'all' ? 'all' : selectedKeys.size}
          onClearSelection={() => {
            setSelectedKeys(new Set());
            alert('Selection cleared');
          }}>
          <ActionButton onPress={() => alert(`Publishing ${selectedKeys.size} documents`)}>
            Publish
          </ActionButton>
          <ActionButton onPress={() => alert(`Archiving ${selectedKeys.size} documents`)}>
            Archive
          </ActionButton>
          <ActionButton onPress={() => alert(`Deleting ${selectedKeys.size} documents`)}>
            Delete
          </ActionButton>
        </ActionBar>
      )}>
      <TableHeader>
        <Column key="id" isRowHeader>ID</Column>
        <Column key="name">Name</Column>
        <Column key="status">Status</Column>
      </TableHeader>
      <TableBody items={rows}>
        {item => (
          <Row>
            <Cell key="id">{item.id}</Cell>
            <Cell key="name">{item.name}</Cell>
            <Cell>{item.status}</Cell>
          </Row>
        )}
      </TableBody>
    </TableView>
  );
}
```


## Selection count

The ActionBar displays the number of selected items. When all items are selected, it can display "All" instead of a specific count by passing `selectedItemCount="all"`.

```tsx render hideImports
"use client";
import {ActionBar, ActionButton} from '@react-spectrum/s2';

<div style={{display: 'flex', flexDirection: 'column', gap: 20}}>
  <ActionBar selectedItemCount={3} onClearSelection={() => {}}>
    <ActionButton>Edit</ActionButton>
    <ActionButton>Delete</ActionButton>
  </ActionBar>
  
  <ActionBar selectedItemCount="all" onClearSelection={() => {}}>
    <ActionButton>Edit</ActionButton>
    <ActionButton>Delete</ActionButton>
  </ActionBar>
</div>
```

## Props

<PropTable component={docs.exports.ActionBar} links={docs.links} />
